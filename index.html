<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }
</style>
<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoicmtlbWJ1cnUiLCJhIjoiY2l1bmYyMzRyMDB4bDJ0cDQ2ZnN1cDQ2dCJ9.dcpKoaw3kkcL4r2fouaVwQ';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/rkemburu/ciuoikkmw00aj2io2da7i27lg',
    center: [-96.719798, 38.507969],
    zoom: 2.44,
});

map.on('load', function () {
    // Add a GeoJSON source containing place coordinates and information.
    map.addSource("places", {
        "type": "geojson",
        "data": {
            "type": "FeatureCollection",
            "features": [{
                "type": "Feature",
                "properties": {
                    "description": "<b>8/1/1966 University of Texas</b></br>Location: Austin, Texas</br> # of Deaths: 16</br>On August 1, 1966, a 25-year-old engineering student at the University of Texas in Austin killed sixteen people and wounded thirty-two others in and around the Tower of the University of Texas. Prior to commencing the mass shootings at the University, the student and former U.S. Marine, had murdered both his wife and mother in Austin, Texas.",
                    
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [-97.844159, 30.198887]
                }
            },
			]
        }
    });

    // Add a layer showing the places.
    map.addLayer({
        "id": "places",
        "type": "symbol",
        "source": "places",
        "layout": {
            "icon-image": "circle-15",
            "icon-allow-overlap": true
        }
    });
});


// When a click event occurs near a place, open a popup at the location of
// the feature, with description HTML from its properties.
map.on('click', function (e) {
    var features = map.queryRenderedFeatures(e.point, { layers: ['places'] });

    if (!features.length) {
        return;
    }

    var feature = features[0];

    // Populate the popup and set its coordinates
    // based on the feature found.
    var popup = new mapboxgl.Popup()
        .setLngLat(feature.geometry.coordinates)
        .setHTML(feature.properties.description)
        .addTo(map);
});

// Use the same approach as above to indicate that the symbols are clickable
// by changing the cursor style to 'pointer'.
map.on('mousemove', function (e) {
    var features = map.queryRenderedFeatures(e.point, { layers: ['places'] });
    map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';
});
</script>

</body>
</html>

